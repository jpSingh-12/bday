<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday to Someone :))</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
/* Kiven o, Ki labh rhe o Idhr? */
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
  text-align: center;
  min-height: 100vh;
  overflow-x: hidden;
  background: linear-gradient(135deg,#ffdde1,#ee9ca7,#fcbad3,#ff9a9e,#fad0c4);
  background-size: 500% 500%;
  animation: gradientShift 18s ease infinite;
  position: relative;
}

@keyframes gradientShift {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

body::before {
  content: "";
  position: fixed;
  top: 50%;
  left: 50%;
  width: 500px;
  height: 500px;
  transform: translate(-50%,-50%);
  background: radial-gradient(circle, rgba(255,180,200,0.8) 0%, rgba(255,140,160,0.2) 45%, transparent 70%);
  animation: heartbeat 3.5s ease-in-out infinite;
  filter: blur(60px);
  z-index: 0;
}

.font-size {
	font-size : 23px;
}

@keyframes heartbeat {
  0%,100% { transform: translate(-50%,-50%) scale(1); opacity: 0.55; }
  50% { transform: translate(-50%,-50%) scale(1.25); opacity: 0.85; }
}

.container {
  position: relative;
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(12px);
  padding: 30px;
  border-radius: 25px;
  width: 95%;
  max-width: 600px;
  margin: 100px auto 50px auto;
  box-shadow: 0 15px 35px rgba(0,0,0,0.2);
  z-index: 2;
}

#particles {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 1;
}

#glitter-layer { display:none; }

h1 { font-size: 34px; color:#b30059; margin-bottom:10px; font-weight:700; }

input[type=text] {
  width:90%; padding:12px; margin-bottom:20px;
  border-radius:12px; border:2px solid #ff6f91;
  font-size:18px; outline:none; transition:0.3s;
}
input[type=text]:focus {
  border-color:#b30059;
  box-shadow:0 0 8px rgba(179,0,89,0.5);
}

button {
  width:90%; padding:14px; margin:10px auto;
  font-size:18px; cursor:pointer;
  border-radius:12px; border:none;
  font-weight:600; background:#ff6f91; color:white;
  transition:0.3s; display:block;
}
button:hover {
  transform:scale(1.06);
  box-shadow:0 0 12px rgba(255,120,150,0.8);
}

#wish-btn { background:#28a745; display:none; }
#wish-btn:hover { background:#1f8a38; }

#mom-photo {
  display:none; width:100%; border-radius:20px;
  margin-top:20px; border:5px solid #ff8fb1;
  box-shadow:0 0 25px rgba(255,120,150,0.7);
  animation:photoGlow 4s ease-in-out infinite;
}

@keyframes photoGlow {
  0% { box-shadow:0 0 25px rgba(255,120,150,0.7); }
  50% { box-shadow:0 0 50px rgba(255,150,180,1); }
  100% { box-shadow:0 0 25px rgba(255,120,150,0.7); }
}

#final-text { font-size:20px; margin-top:25px; white-space:pre-wrap; display:none; color:#6b004f; font-weight:600; min-height:60px; }

.particle {
  position:absolute;
  font-size: 26px;
  opacity:0.75;
  user-select:none;
  pointer-events:none;
}
</style>
</head>

<body>

<div id="particles"></div>

<div class="container" id="main-container">

  <h1>Guess Whose Birthdayüéâ It Is? Jap‚Äôs</h1>

  <div id="name-section">
    <input type="text" id="visitor-name" placeholder="But first enter your name" />
    <button onclick="startQuiz()">Start</button>
  </div>

  <div id="instructions" style="display:none;">
    <p class="font-size">Only one chance. Choose wisely:</p>
  </div>

  <div id="options" style="display:none;">
    <button onclick="recordAnswer('mom')">Mom</button>
    <button onclick="recordAnswer('dad')">Dad</button>
    <button onclick="recordAnswer('sister')">Sister</button>
    <button onclick="recordAnswer('cousin')">Cousin</button>
    <button onclick="recordAnswer('friend')">Friend</button>
    <button onclick="recordAnswer('someone_else')">Someone Else</button>
  </div>

  <div class="font-size" id="result"></div>
  <img id="mom-photo" src="mom.jpeg" alt="Photo" />
  <div id="final-text"></div><br>
  <button id="wish-btn">Send Birthday Wish ‚ù§Ô∏è</button>

</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
const correctSound = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
const wrongSound   = new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg");
const clickSound   = new Audio("https://actions.google.com/sounds/v1/cartoon/soft_pop.ogg");
clickSound.volume = 0.25;
const jingleSound = new Audio("https://actions.google.com/sounds/v1/ambiences/birthday_crowd.ogg");
jingleSound.loop = true;
jingleSound.volume = 0.18;

let visitorName = "";
let guessed = false;

function startQuiz(){
  const nameInput = document.getElementById('visitor-name');
  visitorName = nameInput.value.trim();
  if (!visitorName){ alert("Please enter your name"); return; }

  clickSound.play().catch(()=>{});

  document.getElementById("name-section").style.display="none";
  document.getElementById("instructions").style.display="block";
  document.getElementById("options").style.display="block";
}

function recordAnswer(choice){
  if (guessed) return;
  guessed = true;

  jingleSound.play().catch(()=>{});

  let result = document.getElementById("result");

  document.getElementById("options").style.display="none";
  document.getElementById("instructions").style.display="none";

  if (choice === 'mom'){
    result.innerHTML = `Correct! ‚ù§Ô∏è ${visitorName} guessed right!`;
    correctSound.play().catch(()=>{});
  } else {
    result.innerHTML = `${visitorName} guessed ${choice}.<br> INCORRECT! It's his Mom.`;
    result.style.color = "#b30059";
    wrongSound.play().catch(()=>{});
  }

  showPhoto();
  typeMessageForMom();
  document.getElementById("wish-btn").style.display = "block";
  launchConfettiBurst();
}

function showPhoto(){
  const img = document.getElementById("mom-photo");
  img.style.display = "block";
}

function launchConfettiBurst(){
  confetti({ particleCount: 120, spread: 80, origin:{ y:0.3 } });
}

function typeMessageForMom(){
  const text = `Waheguru g has blessed me with a mother whose strength, compassion, and simplicity guide his life every day.
May Waheguru keep you in chardi kala and bless you with long life, health, and peace.
Happy Birthday MOM. ‚ù§Ô∏è`;

  const display = document.getElementById("final-text");
  display.style.display = "block";
  display.innerHTML = "";

  let i = 0;
  function type(){
    if(i < text.length){ display.innerHTML += text.charAt(i); i++; setTimeout(type, 35); }
  }
  type();
}

function createParticles(){
  const container = document.getElementById("particles");
  const symbols = ["üéà","üéâ","üíñ","‚≠ê"];
  const count = 20;

  for(let i=0;i<count;i++){
    let span = document.createElement("span");
    span.className = "particle";
    span.innerHTML = symbols[Math.floor(Math.random()*symbols.length)];
    span.style.left = Math.random()*100 + "%";
    span.style.top = (100 + Math.random()*20) + "%";
    span.speed = 0.3 + Math.random()*0.6;

    container.appendChild(span);
    floatUp(span);
  }
}

function floatUp(el){
  function move(){
    let top = parseFloat(el.style.top);
    top -= el.speed;
    if(top < -10){ top = 110; el.style.left = Math.random()*100 + "%"; }
    el.style.top = top + "%";
    requestAnimationFrame(move);
  }
  move();
}

createParticles();

document.getElementById("wish-btn").addEventListener("click", ()=>{
  const msg = encodeURIComponent(`Hi! I'm ${visitorName}. Wishing your Mom a very Happy Birthday! ‚ù§Ô∏èüéâ`);
  window.open(`https://wa.me/16044459047?text=${msg}`, "_blank");
});
</script>

</body>
</html>
